# Настройка Vercel Blob Storage для загрузки файлов

## Что такое Vercel Blob Storage?

Vercel Blob Storage — это облачное хранилище файлов от Vercel. Оно необходимо, потому что на Vercel файловая система доступна только для чтения, и нельзя сохранять файлы локально.

## Цены

- **Бесплатный тариф**: 1 GB хранилища, 100 GB трафика в месяц
- **Платные тарифы**: от $20/месяц (если нужно больше)

## Настройка (5 минут)

### Шаг 1: Получите токен в Vercel

1. Откройте [Vercel Dashboard](https://vercel.com/dashboard)
2. Выберите ваш проект `vk-bouwmaster`
3. Перейдите в **Settings** → **Storage**
4. Нажмите **Create Database** или **Add Storage**
5. Выберите **Blob**
6. Создайте Blob Storage (назовите его, например, `vk-bouwmaster-blob`)
7. После создания перейдите в **Settings** → **Storage** → выберите ваш Blob
8. В разделе **Environment Variables** найдите `BLOB_READ_WRITE_TOKEN`
9. Скопируйте этот токен

### Шаг 2: Добавьте токен в переменные окружения Vercel

1. В Vercel Dashboard перейдите в **Settings** → **Environment Variables**
2. Нажмите **Add New**
3. Добавьте:
   - **Name**: `BLOB_READ_WRITE_TOKEN`
   - **Value**: вставьте скопированный токен
   - **Environment**: выберите **Production**, **Preview**, и **Development**
4. Нажмите **Save**

### Шаг 3: Перезапустите деплой

1. В Vercel Dashboard перейдите в **Deployments**
2. Найдите последний деплой
3. Нажмите **Redeploy** (или сделайте новый commit и push в GitHub)

## Как это работает?

- **Локально** (на вашем компьютере): файлы сохраняются в `public/uploads/`
- **На Vercel**: файлы автоматически загружаются в Vercel Blob Storage

Код автоматически определяет, где он запущен, и использует правильный метод хранения.

## Проверка

После настройки попробуйте загрузить фото или видео через админ-панель. Если всё настроено правильно, файлы будут загружаться без ошибок.

## Проблемы?

Если загрузка не работает:
1. Убедитесь, что `BLOB_READ_WRITE_TOKEN` добавлен в Environment Variables
2. Убедитесь, что Blob Storage создан в Vercel
3. Проверьте логи деплоя в Vercel Dashboard → Deployments → выберите деплой → Functions → Logs

## Важно о хостинге

**Vercel хостинг работает постоянно!** Вам не нужно ничего включать или выключать:
- ✅ Сайт доступен 24/7
- ✅ Автоматически обновляется при каждом push в GitHub
- ✅ Работает даже когда ваш компьютер выключен
- ✅ Это облачный сервис, не требует вашего участия

