# Настройка Vercel Blob Storage для загрузки файлов

## Что такое Vercel Blob Storage?

Vercel Blob Storage — это облачное хранилище файлов от Vercel. Оно необходимо, потому что на Vercel файловая система доступна только для чтения, и нельзя сохранять файлы локально.

## Цены

- **Бесплатный тариф**: 1 GB хранилища, 100 GB трафика в месяц
- **Платные тарифы**: от $20/месяц (если нужно больше)

## Настройка (5 минут)

### Шаг 1: Создайте Blob Storage в Vercel

1. Откройте [Vercel Dashboard](https://vercel.com/dashboard)
2. Выберите ваш проект `vk-bouwmaster`
3. Перейдите в **Settings** → **Storage** (в верхней навигации)
4. Нажмите **Create Database** или **Add Storage**
5. Выберите **Blob**
6. Создайте Blob Storage (назовите его, например, `vk-bouwmaster-blob`)
7. После создания Vercel автоматически добавит переменную окружения `BLOB_READ_WRITE_TOKEN`

### Шаг 2: Проверьте переменные окружения (опционально)

**Обычно токен добавляется автоматически**, но если нужно проверить:

1. В Vercel Dashboard перейдите в **Settings** → **Environment Variables** (в левом меню)
2. Найдите переменную `BLOB_READ_WRITE_TOKEN`
3. Если её нет, добавьте вручную:
   - Нажмите **Add New**
   - **Key**: `BLOB_READ_WRITE_TOKEN`
   - **Value**: получите токен из **Storage** → выберите ваш Blob → **Settings** → **Environment Variables**
   - **Environments**: выберите **Production**, **Preview**, и **Development**
   - Нажмите **Save**

### Шаг 3: Перезапустите деплой

1. В Vercel Dashboard перейдите в **Deployments**
2. Найдите последний деплой
3. Нажмите **Redeploy** (или сделайте новый commit и push в GitHub)

## Как это работает?

- **Локально** (на вашем компьютере): файлы сохраняются в `public/uploads/`
- **На Vercel**: файлы автоматически загружаются в Vercel Blob Storage

Код автоматически определяет, где он запущен, и использует правильный метод хранения.

## Проверка

После настройки попробуйте загрузить фото или видео через админ-панель. Если всё настроено правильно, файлы будут загружаться без ошибок.

## Проблемы?

Если загрузка не работает:
1. Убедитесь, что `BLOB_READ_WRITE_TOKEN` добавлен в Environment Variables
2. Убедитесь, что Blob Storage создан в Vercel
3. Проверьте логи деплоя в Vercel Dashboard → Deployments → выберите деплой → Functions → Logs

## Важно о хостинге

**Vercel хостинг работает постоянно!** Вам не нужно ничего включать или выключать:
- ✅ Сайт доступен 24/7
- ✅ Автоматически обновляется при каждом push в GitHub
- ✅ Работает даже когда ваш компьютер выключен
- ✅ Это облачный сервис, не требует вашего участия

